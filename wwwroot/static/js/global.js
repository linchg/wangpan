document.write('<div id="divShow" style="display:none;"></div>');function floatdiv(s,url){var html=''+s+'';if(document.getElementById('divShow')){document.getElementById('divShow').style.display='none';document.getElementById('divShow').style.position='absolute';document.getElementById('divShow').style.zIndex='110000';document.getElementById('divShow').innerHTML=html;document.getElementById("divShow").style.display='';var divShow_left=(document.body.offsetWidth-document.getElementById("divShow").offsetWidth)/2+document.body.scrollLeft;var divShow_top=(document.documentElement.clientHeight-document.getElementById("divShow").offsetHeight)/2+(document.body.scrollTop>document.documentElement.scrollTop?document.body.scrollTop:document.documentElement.scrollTop);document.getElementById("divShow").style.display='';document.getElementById("divShow").style.left=divShow_left+"px";document.getElementById("divShow").style.top=divShow_top+"px";clseopacity('divShow',0,url);}}function clseopacity(id,n,url){if(n<95){n=n+10;document.getElementById(id).style.filter='alpha(opacity='+n+')';document.getElementById(id).style.opacity=n/100;setTimeout('clseopacity(\''+id+'\','+n+',\''+url+'\')',100);}else{setTimeout('timeoutjs(\''+id+'\',\''+url+'\')',1000);}}function timeoutjs(id,url){document.getElementById(id).style.display='none';if(url!="#")location.href=url;}function showMask(show,widthVal,heightVal){var mask=document.getElementById('dmask');var frmmask=document.getElementById('frmmask');var frmDialog=document.getElementById('frmDialog');if(mask&&frmmask){var width=document.body.scrollWidth;if(width<document.body.clientWidth)width=document.body.clientWidth;if(width<document.documentElement.clientWidth)width=document.documentElement.clientWidth;if(width<document.documentElement.scrollWidth)width=document.documentElement.scrollWidth;var height=document.body.scrollHeight;if(height<document.body.clientHeight)height=document.body.clientHeight;if(height<document.documentElement.clientHeight)height=document.documentElement.clientHeight;if(height<document.documentElement.scrollHeight)height=document.documentElement.scrollHeight;if(window.XMLHttpRequest){mask.style.position="fixed";frmmask.style.position="fixed";}mask.style.top='0px';mask.style.left='0px';mask.style.width=width+'px';mask.style.height=height+'px';frmmask.style.top='0px';frmmask.style.left='0px';frmmask.style.width=width+'px';frmmask.style.height=height+'px';if(show){mask.style.visibility='visible';frmmask.style.visibility='visible';frmDialog.style.visibility='visible';}else{mask.style.visibility='hidden';frmmask.style.visibility='hidden';frmDialog.style.visibility='hidden';}}var width=widthVal;var height=heightVal;var top=(window.screen.height/2+(document.body.scrollTop>document.documentElement.scrollTop?document.body.scrollTop:document.documentElement.scrollTop)-height/2-100)>0?(window.screen.height/2+(document.body.scrollTop>document.documentElement.scrollTop?document.body.scrollTop:document.documentElement.scrollTop)-height/2-100):0;var left=(window.screen.width/2+(document.body.scrollLeft>document.documentElement.scrollLeft?document.body.scrollLeft:document.documentElement.scrollLeft)-width/2)>0?(window.screen.width/2+(document.body.scrollLeft>document.documentElement.scrollLeft?document.body.scrollLeft:document.documentElement.scrollLeft)-width/2):0;frmDialog.style.top=top+'px';frmDialog.style.left=left+'px';frmDialog.style.width=width+'px';frmDialog.style.height=height+'px';document.getElementById('divShow').style.display='none';}function closeForm(){var objF=document.getElementById("filter");document.getElementById('divShow').innerHTML='';document.getElementById('divShow').style.display='none';if(objF){objF.parentNode.removeChild(objF);}}function copyText(txt){if(window.clipboardData){window.clipboardData.clearData();window.clipboardData.setData("Text",txt);}else if(navigator.userAgent.indexOf("Opera")!=-1){window.location=txt;}else if(window.netscape){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");}catch(e){alert("您的firefox安全限制限制您进行剪贴板操作，请打开’about:config’将signed.applets.codebase_principal_support’设置为true’之后重试，相对路径为firefox根目录/greprefs/all.js");return false;}var clip=Components.classes['@mozilla.org/widget/clipboard;1'].createInstance(Components.interfaces.nsIClipboard);if(!clip)return;var trans=Components.classes['@mozilla.org/widget/transferable;1'].createInstance(Components.interfaces.nsITransferable);if(!trans)return;trans.addDataFlavor('text/unicode');var str=new Object();var len=new Object();var str=Components.classes["@mozilla.org/supports-string;1"].createInstance(Components.interfaces.nsISupportsString);var copytext=txt;str.data=copytext;trans.setTransferData("text/unicode",str,copytext.length*2);var clipid=Components.interfaces.nsIClipboard;if(!clip)return false;clip.setData(trans,null,clipid.kGlobalClipboard);}}function uploads(){var myDate=new Date();var obj=document.createElement("div");obj.id="filter";obj.innerHTML='<div id="dmask" style="z-index:10000;display:block;background:#000;filter:alpha(opacity=40);-moz-opacity:0.4;opacity:0.4;position:absolute;visibility:hidden;"></div>'+'<div id="frmmask" style="z-index:9999;display:block;background:#000;filter:alpha(opacity=0);-moz-opacity:0;opacity:0;position:absolute;visibility:hidden;"></div>'+'<div id="frmDialog" style="background-color:#FFFFFF;vertical-align:middle;height:500px;width:600px;z-index:10010;position:absolute;display:block;visibility:hidden;border:1px solid #fff;">'+'<div style="width:600px;height:494px;float:left;overflow:hidden;">'+'<div style="background:#547db3;color:#FFF;height:30px;font-size:14px;font-weight:bold;padding-top:6px;"><div style="position:absolute;margin-left:580px;margin-top:2px;"><a href="javascript:;" onclick="closeForm()" title="关闭"><img src="images/close.png" width="14" height="14" border="0"></a></div>　文件上传　</div>'+'<iframe id="show_upload" style="margin-top:4px;" frameborder="0" scrolling="no" width="596" height="460" scrolling="auto" src="about:blank"></iframe></div></div>';document.body.appendChild(obj);showMask(true,600,500);document.getElementById('show_upload').src="uploads.php?folderid="+$("#folder_id").html()+"&f="+$("#f").html()+"&t="+myDate.getTime();}function show_lastdown(html){var obj=document.createElement("div");obj.id="filter";obj.innerHTML='<div id="dmask" style="z-index:10000;display:block;background:#000;filter:alpha(opacity=40);-moz-opacity:0.4;opacity:0.4;position:absolute;visibility:hidden;"></div>'+'<div id="frmmask" style="z-index:9999;display:block;background:#000;filter:alpha(opacity=0);-moz-opacity:0;opacity:0;position:absolute;visibility:hidden;"></div>'+'<div id="frmDialog" style="background-color:#FFFFFF;vertical-align:middle;height:500px;width:600px;z-index:10010;position:absolute;display:block;visibility:hidden;border:1px solid #fff;">'+'<div style="width:600px;height:494px;float:left;overflow:hidden;">'+'<div style="background:#547db3;color:#FFF;height:30px;font-size:14px;font-weight:bold;padding-top:6px;"><div style="position:absolute;margin-left:580px;margin-top:2px;"><a href="javascript:;" onclick="closeForm()" title="关闭"><img src="images/close.png" width="14" height="14" border="0"></a></div>　最近50次下载　</div>'+'<div style="width:590px;height:455px;margin:5px;overflow-y:auto;overflow-x:hidden;">'+html+'</div></div></div>';document.body.appendChild(obj);showMask(true,600,500);}function copyfolder(id,name){var obj=document.createElement("div");obj.id="filter";obj.innerHTML='<div id="dmask" style="z-index:10000;display:block;background:#000;filter:alpha(opacity=40);-moz-opacity:0.4;opacity:0.4;position:absolute;visibility:hidden;"></div>'+'<div id="frmmask" style="z-index:9999;display:block;background:#000;filter:alpha(opacity=0);-moz-opacity:0;opacity:0;position:absolute;visibility:hidden;"></div>'+'<div id="frmDialog" style="background-color:#FFFFFF;vertical-align:middle;height:150px;width:350px;z-index:10010;position:absolute;display:block;visibility:hidden;border:1px solid #fff;">'+'<div style="width:350px;height:144px;float:left;overflow:hidden;">'+'<div style="background:#547db3;color:#FFF;height:30px;font-size:14px;font-weight:bold;padding-top:6px;"><div style="position:absolute;margin-left:330px;margin-top:2px;"><a href="javascript:;" onclick="closeForm()" title="关闭"><img src="images/close.png" width="14" height="14" border="0"></a></div>　复制文件夹地址　</div>'+'<table width="340" border="0" cellspacing="0" cellpadding="0"><tr><td width="52" height="25" align="center"><strong>地址</strong></td><td width="288"><input type="text" maxlength="20" style="width:280px;" value="http://www.yimuhe.com/u/'+name+'-'+id+'.html" id="copyfurl"></td></tr><tr><td colspan="2" align="center" style="border-bottom: 1px solid #FFF;"><a href="javascript:;" id="copybtnf" onmouseover="copy(\'copybtnf\',\'copyfurl\',1)" class="imitate-btn btn-blue r2 dib mr15">复制地址</a> <a href="javascript:;" onclick="closeForm()" class="imitate-btn btn-blue r2 dib mr15">关闭</a></td></tr></table>'+'</div></div>';document.body.appendChild(obj);showMask(true,350,150);}function copy_file(id,linkurl){var obj=document.createElement("div");obj.id="filter";obj.innerHTML='<div id="dmask" style="z-index:10000;display:block;background:#000;filter:alpha(opacity=40);-moz-opacity:0.4;opacity:0.4;position:absolute;visibility:hidden;"></div>'+'<div id="frmmask" style="z-index:9999;display:block;background:#000;filter:alpha(opacity=0);-moz-opacity:0;opacity:0;position:absolute;visibility:hidden;"></div>'+'<div id="frmDialog" style="background-color:#FFFFFF;vertical-align:middle;height:150px;width:350px;z-index:10010;position:absolute;display:block;visibility:hidden;border:1px solid #fff;">'+'<div style="width:350px;height:144px;float:left;overflow:hidden;">'+'<div style="background:#547db3;color:#FFF;height:30px;font-size:14px;font-weight:bold;padding-top:6px;"><div style="position:absolute;margin-left:330px;margin-top:2px;"><a href="javascript:;" onclick="closeForm()" title="关闭"><img src="images/close.png" width="14" height="14" border="0"></a></div>　复制文件地址　</div>'+'<table width="340" border="0" cellspacing="0" cellpadding="0"><tr><td width="52" height="25" align="center"><strong>地址</strong></td><td width="288"><input type="text" maxlength="20" style="width:280px;" value="http://'+linkurl+'/file-'+id+'.html" id="copyurl"></td></tr><tr><td colspan="2" align="center" style="border-bottom: 1px solid #FFF;"><a href="javascript:;" id="copybtn" onmouseover="copy(\'copybtn\',\'copyurl\',1)" class="imitate-btn btn-blue r2 dib mr15">复制地址</a> <a href="javascript:;" onclick="closeForm()" class="imitate-btn btn-blue r2 dib mr15">关闭</a></td></tr></table>'+'</div></div>';document.body.appendChild(obj);showMask(true,350,150);}function newfolder(folder){var obj=document.createElement("div");obj.id="filter";obj.innerHTML='<div id="dmask" style="z-index:10000;display:block;background:#000;filter:alpha(opacity=40);-moz-opacity:0.4;opacity:0.4;position:absolute;visibility:hidden;"></div>'+'<div id="frmmask" style="z-index:9999;display:block;background:#000;filter:alpha(opacity=0);-moz-opacity:0;opacity:0;position:absolute;visibility:hidden;"></div>'+'<div id="frmDialog" style="background-color:#FFFFFF;vertical-align:middle;height:200px;width:350px;z-index:10010;position:absolute;display:block;visibility:hidden;border:1px solid #fff;">'+'<div style="width:350px;height:194px;float:left;overflow:hidden;">'+'<div style="background:#547db3;color:#FFF;height:30px;font-size:14px;font-weight:bold;padding-top:6px;"><div style="position:absolute;margin-left:330px;margin-top:2px;"><a href="javascript:;" onclick="closeForm()" title="关闭"><img src="images/close.png" width="14" height="14" border="0"></a></div>　新建文件夹　</div>'+'<table width="340" border="0" cellspacing="0" cellpadding="0"><tr><td width="85" height="25" align="center"><strong>所属文件夹</strong></td><td width="249">'+folder+'</td></tr><tr><td height="25" align="center"><strong>文件夹名称</strong></td><td><input type="text" id="addmulu" maxlength="20" style="width:180px;"></td></tr><tr><td height="30" style="border-bottom: 1px solid #FFF;">&nbsp;</td><td style="border-bottom: 1px solid #FFF;"><a href="javascript:;" onclick="muluaddForm();" id="btnaddmulu" class="imitate-btn btn-blue r2 dib mr15">确定</a> <a href="javascript:;" onclick="closeForm()" class="imitate-btn btn-blue r2 dib mr15">关闭</a></td></tr></table>'+'</div></div>';document.body.appendChild(obj);showMask(true,350,200);}function modfolder(id,name){var obj=document.createElement("div");obj.id="filter";obj.innerHTML='<div id="dmask" style="z-index:10000;display:block;background:#000;filter:alpha(opacity=40);-moz-opacity:0.4;opacity:0.4;position:absolute;visibility:hidden;"></div>'+'<div id="frmmask" style="z-index:9999;display:block;background:#000;filter:alpha(opacity=0);-moz-opacity:0;opacity:0;position:absolute;visibility:hidden;"></div>'+'<div id="frmDialog" style="background-color:#FFFFFF;vertical-align:middle;height:150px;width:350px;z-index:10010;position:absolute;display:block;visibility:hidden;border:1px solid #fff;">'+'<div style="width:350px;height:144px;float:left;overflow:hidden;">'+'<div style="background:#547db3;color:#FFF;height:30px;font-size:14px;font-weight:bold;padding-top:6px;"><div style="position:absolute;margin-left:330px;margin-top:2px;"><a href="javascript:;" onclick="closeForm()" title="关闭"><img src="images/close.png" width="14" height="14" border="0"></a></div>　编辑文件夹　</div>'+'<table width="340" border="0" cellspacing="0" cellpadding="0"><tr><td width="85" height="25" align="center"><strong>文件夹名称</strong></td><td width="249"><input type="text" id="modmulu" maxlength="20" style="width:180px;" value="'+name+'"></td></tr><tr><td height="30" style="border-bottom: 1px solid #FFF;"><input name="folderid" type="hidden" id="folderid" value="'+id+'"><input type="hidden" value="'+name+'" id="muluedit"></td><td style="border-bottom: 1px solid #FFF;"><a href="javascript:;" onclick="mulumodForm();" id="btneditmulu" class="imitate-btn btn-blue r2 dib mr15">修改</a> <a href="javascript:;" id="btngxinmulu" onclick="mulugxinForm('+id+')" class="imitate-btn btn-blue r2 dib mr15" title="更新文件夹里的文件数量">更新文件数</a></td></tr></table>'+'</div></div>';document.body.appendChild(obj);showMask(true,350,150);}function delfolder(id,name,filenum){var obj=document.createElement("div");obj.id="filter";obj.innerHTML='<div id="dmask" style="z-index:10000;display:block;background:#000;filter:alpha(opacity=40);-moz-opacity:0.4;opacity:0.4;position:absolute;visibility:hidden;"></div>'+'<div id="frmmask" style="z-index:9999;display:block;background:#000;filter:alpha(opacity=0);-moz-opacity:0;opacity:0;position:absolute;visibility:hidden;"></div>'+'<div id="frmDialog" style="background-color:#FFFFFF;vertical-align:middle;height:150px;width:350px;z-index:10010;position:absolute;display:block;visibility:hidden;border:1px solid #fff;">'+'<div style="width:350px;height:144px;float:left;overflow:hidden;">'+'<div style="background:#547db3;color:#FFF;height:30px;font-size:14px;font-weight:bold;padding-top:6px;"><div style="position:absolute;margin-left:330px;margin-top:2px;"><a href="javascript:;" onclick="closeForm()" title="关闭"><img src="images/close.png" width="14" height="14" border="0"></a></div>　删除文件夹　</div>'+'<table width="340" border="0" cellspacing="0" cellpadding="0"><tr><td height="25" colspan="2" align="center"><strong>确定要删除 <span class="red">'+name+'</span> 文件夹吗？</strong></td></tr><tr><td width="85" height="30" style="border-bottom: 1px solid #FFF;"><input name="folderid" type="hidden" id="folderid" value="1"></td><td width="249" style="border-bottom: 1px solid #FFF;"><a href="javascript:;" onclick="muludelForm('+id+','+filenum+');" id="btndelmulu" class="imitate-btn btn-blue r2 dib mr15">确定</a> <a href="javascript:;" onclick="closeForm()" class="imitate-btn btn-blue r2 dib mr15">取消</a></td></tr></table>'+'</div></div>';document.body.appendChild(obj);showMask(true,350,150);}function edit_file(id,name,content){var obj=document.createElement("div");obj.id="filter";obj.innerHTML='<div id="dmask" style="z-index:10000;display:block;background:#000;filter:alpha(opacity=40);-moz-opacity:0.4;opacity:0.4;position:absolute;visibility:hidden;"></div>'+'<div id="frmmask" style="z-index:9999;display:block;background:#000;filter:alpha(opacity=0);-moz-opacity:0;opacity:0;position:absolute;visibility:hidden;"></div>'+'<div id="frmDialog" style="background-color:#FFFFFF;vertical-align:middle;height:230px;width:350px;z-index:10010;position:absolute;display:block;visibility:hidden;border:1px solid #fff;">'+'<div style="width:350px;height:224px;float:left;overflow:hidden;">'+'<div style="background:#547db3;color:#FFF;height:30px;font-size:14px;font-weight:bold;padding-top:6px;"><div style="position:absolute;margin-left:330px;margin-top:2px;"><a href="javascript:;" onclick="closeForm()" title="关闭"><img src="images/close.png" width="14" height="14" border="0"></a></div>　编辑文件　</div>'+'<table width="340" border="0" cellspacing="0" cellpadding="0"><tr><td width="85" height="25" align="center"><strong>文件名称</strong></td><td width="249"><input type="text" value="'+name+'" id="xg_name" maxlength="20" style="width:230px;"></td></tr><tr><td height="25" align="center"><strong>文件描述</strong></td><td><textarea id="xg_content" style="width:230px;height:50px;color:#8f8f8f;" onblur="(this.value == \'\') ? this.value=\'文件描述,不得大于2000个字节(即1000个汉字)\' :\'\'" onfocus="(this.value == \'文件描述,不得大于2000个字节(即1000个汉字)\') ? this.value=\'\':\'\'">'+content+'</textarea></td></tr><tr><td height="30" style="border-bottom: 1px solid #FFF;">&nbsp;</td><td style="border-bottom: 1px solid #FFF;"><a href="javascript:;" onclick="fileeditForm('+id+');" id="btnxgfile" class="imitate-btn btn-blue r2 dib mr15">确定</a> <a href="javascript:;" onclick="closeForm()" class="imitate-btn btn-blue r2 dib mr15">关闭</a></td></tr></table>'+'</div></div>';document.body.appendChild(obj);showMask(true,350,230);}function yid_file(dirid,select){if(dirid==''&&dirid!=0){floatdiv("参数错误","#");return false;}if(select==''){floatdiv("参数错误","#");return false;}var delid="";var arr=document.getElementsByName("fid");if(arr){for(var i=0;i<arr.length;i++){var ele=arr[i];if(ele.checked){delid+=","+ele.value;}}}if(delid!=""){yidong_file(delid.substring(1,delid.length),dirid,select);}else{floatdiv("请选择要移动的文件","#");}}function yidong_file(fileid,dirid,select){var obj=document.createElement("div");obj.id="filter";obj.innerHTML='<div id="dmask" style="z-index:10000;display:block;background:#000;filter:alpha(opacity=40);-moz-opacity:0.4;opacity:0.4;position:absolute;visibility:hidden;"></div>'+'<div id="frmmask" style="z-index:9999;display:block;background:#000;filter:alpha(opacity=0);-moz-opacity:0;opacity:0;position:absolute;visibility:hidden;"></div>'+'<div id="frmDialog" style="background-color:#FFFFFF;vertical-align:middle;height:150px;width:350px;z-index:10010;position:absolute;display:block;visibility:hidden;border:1px solid #fff;">'+'<div style="width:350px;height:144px;float:left;overflow:hidden;">'+'<div style="background:#547db3;color:#FFF;height:30px;font-size:14px;font-weight:bold;padding-top:6px;"><div style="position:absolute;margin-left:330px;margin-top:2px;"><a href="javascript:;" onclick="closeForm()" title="关闭"><img src="images/close.png" width="14" height="14" border="0"></a></div>　文件移动　</div>'+'<table width="340" border="0" cellspacing="0" cellpadding="0"><tr><td width="85" height="25" align="center"><strong>文件移动到</strong></td><td width="249">'+select+'</td></tr><tr><td height="30" style="border-bottom: 1px solid #FFF;"><input type="hidden" value="'+fileid+'" id="fileid" name="fileid"><input name="mvdir" type="hidden" id="mvdir" value="'+dirid+'"></td><td style="border-bottom: 1px solid #FFF;"><a href="javascript:;" onclick="fileyidForm();" id="btnyidfile" class="imitate-btn btn-blue r2 dib mr15">移动</a> <a href="javascript:;" onclick="closeForm()" class="imitate-btn btn-blue r2 dib mr15">关闭</a></td></tr></table>'+'</div></div>';document.body.appendChild(obj);showMask(true,350,150);}function get_link_urlarr(result){var obj=document.createElement("div");obj.id="filter";obj.innerHTML='<div id="dmask" style="z-index:10000;display:block;background:#000;filter:alpha(opacity=40);-moz-opacity:0.4;opacity:0.4;position:absolute;visibility:hidden;"></div>'+'<div id="frmmask" style="z-index:9999;display:block;background:#000;filter:alpha(opacity=0);-moz-opacity:0;opacity:0;position:absolute;visibility:hidden;"></div>'+'<div id="frmDialog" style="background-color:#FFFFFF;vertical-align:middle;height:230px;width:350px;z-index:10010;position:absolute;display:block;visibility:hidden;border:1px solid #fff;">'+'<div style="width:350px;height:224px;float:left;overflow:hidden;">'+'<div style="background:#547db3;color:#FFF;height:30px;font-size:14px;font-weight:bold;padding-top:6px;"><div style="position:absolute;margin-left:330px;margin-top:2px;"><a href="javascript:;" onclick="closeForm()" title="关闭"><img src="images/close.png" width="14" height="14" border="0"></a></div>　批量提取网址　</div>'+'<table width="340" border="0" cellspacing="0" cellpadding="0"><tr><td colspan="2" align="center"><textarea id="urlcontent" style="width:320px;height:100px;color:#8f8f8f;" wrap="off" onClick="this.select();">'+result+'</textarea></td></tr><tr><td width="75" height="30" style="border-bottom: 1px solid #FFF;">&nbsp;</td><td width="265" style="border-bottom: 1px solid #FFF;"><a href="javascript:;" onmouseover="copy(\'btncpurl\',\'urlcontent\',2)" id="btncpurl" class="imitate-btn btn-blue r2 dib mr15">复制全部</a> <a href="javascript:;" onclick="closeForm()" class="imitate-btn btn-blue r2 dib mr15">关闭</a></td></tr></table>'+'</div></div>';document.body.appendChild(obj);showMask(true,350,230);}